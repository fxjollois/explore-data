<!doctype html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <title>Test | Diagramme en barres</title>
    </head>

    <body>

        <div id="div"></div>
        <div id="truc"></div>

        <script src="../lib/d3.min.js"></script>
        
        <script src="../lib/app/global.js"></script>
        <script src="../lib/app/univarie2_pieplot.js"></script>

        <script>
            var valeurs = [], n = 100;
            for (var i = 0; i < n; i++) {
                var rand = Math.random(),
                    res;
                if (rand < .2) {
                    res = "Aaaaaaaaaaaaaaaaaa"
                } else if (rand < .5) {
                    res = "Bbbbbbbbbbb"
                } else if (rand < .9) {
                    res = "Ccccccccccc"
                } else {
                    res = "Ddddddddddddddd"
                }
                valeurs.push(res);
                // valeurs.push(Math.random());
            }
            var vals = d3.nest()
                    .key(function(d) { return d; })
                    .rollup(function(v) { return v.length; })
                    .entries(valeurs);
            console.log(vals);
            affichePieplot(vals, "#div");
        </script>
    </body>
</html>
